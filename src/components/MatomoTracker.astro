---
const matomoUrl = import.meta.env.PUBLIC_MATOMO_URL || 'https://mymatomo.darkube.app';
const siteId = import.meta.env.PUBLIC_MATOMO_SITE_ID || '1';
---

<script is:inline>
  // Directly inject the values - no template literals
  var _paq = window._paq = window._paq || [];
  _paq.push(['setTrackerUrl', 'https://mymatomo.darkube.app/matomo.php']);
  _paq.push(['setSiteId', '1']);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  
  (function() {
    var d = document, g = d.createElement('script');
    g.src = 'https://mymatomo.darkube.app/matomo.js';
    g.async = true;
    g.defer = true;
    g.onload = function() { console.log('Matomo loaded successfully'); };
    g.onerror = function(e) { console.error('Matomo failed to load', e); };
    d.head.appendChild(g);
  })();
</script>
